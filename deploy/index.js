(function(f){var g;if(typeof window!=='undefined'){g=window}else if(typeof self!=='undefined'){g=self}g.btWebLogin=f()})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';var pageModeContainer=require('./script/manager/page.es6');var util=require('./script/util.es6');function resolveGameNameToConfig(gameName){return{"aoya":{configUrl:"aoya.json"}}[gameName];}function queryGameData(gameName){var c=resolveGameNameToConfig(gameName);return $.get(c.configUrl);}function init(option){var mode=option.mode,gameName=option.gameName;window.__option=option;queryGameData(gameName).then(function(data){window.__gameConfig=data;if(mode=="page"){pageModeContainer.init(data,option);}else{throw new Error("mode 不受支持");}});}module.exports={init:init,util:util// if (!window.btWebLogin_config) {
//     throw new Error("请在引入登陆脚本前先配置相干信息");
// }
// config = {
//     ...config,
//     ...window.btWebLogin_config
// };
// console.log("currentConfig", config);
};

},{"./script/manager/page.es6":4,"./script/util.es6":5}],2:[function(require,module,exports){
"use strict";module.exports={register:function register(password,autologin,name,id,code){var d=$.Deferred();console.log(password,autologin,name,id,code);d.resolve({code:0,duoduoId:Math.random()*10000,password:password});return d.promise();},login:function login(duoduoId,password,autologin,gameId,code){var d=$.Deferred();console.log(duoduoId,password,autologin,gameId,code);d.resolve({code:0});return d.promise();},loginToken:function loginToken(duoduoId,token,gameId){var d=$.Deferred();console.log(duoduoId,token,gameId);d.resolve({code:0});return d.promise();},checkGameName:function checkGameName(url,name){return $.getJSON(url+"?callback=?",{name:name});},checkRealNameNeeded:function checkRealNameNeeded(){var d=$.Deferred();d.resolve({need:true});return d.promise();},checkCodeNeeded:function checkCodeNeeded(){var d=$.Deferred();d.resolve({need:true});return d.promise();},getImgSrc:function getImgSrc(){return"http://account.9aoduo.com/access/imgCodeGetter.action?v="+(new Date()-0);}};

},{}],3:[function(require,module,exports){
"use strict";var actionToTabMap={"register":2,"login":1,"loginName":0,"registerSuccess":2};module.exports.actionToTabMap=actionToTabMap;

},{}],4:[function(require,module,exports){
'use strict';var v_tab=require('../views/tab.es6');var v_login=require('../views/login.es6');var v_loginName=require('../views/loginName.es6');var v_qqlogin=require('../views/qqlogin.es6');var v_quicklogin=require('../views/quicklogin.es6');var v_qqloginbtn=require('../views/qqloginbtn.es6');var v_register=require('../views/register.es6');var v_fieldItem=require('../views/fieldItem01.es6');var v_codeItem=require('../views/codeitem.es6');var v_checkbox=require('../views/checkboxItem.es6');var v_registerSuccess=require('../views/registerSuccess.es6');var prefillItem=require('../views/prefillItem.es6');var _require=require('../util.es6'),st=_require.st,ValidateItem=_require.ValidateItem,getActionByJudge=_require.getActionByJudge;var _require2=require('../validate.es6'),doValidate=_require2.doValidate;var da=require('../da.es6');var env=require('../env.es6');var root=void 0,ps=$({});var option=void 0;var gameConfig=void 0;var vm={};function pageAlert(data){alert(data);}function goBackLoginSuccess(loginSuccessType){if(option.gameName=="pja"){}else{st("loginSuccess",loginSuccessType).then(function(){// location.href = gameConfig.gameCallbackUrl;
console.log("jump back success");});}}ps.on("cDispatch",function(e,data){if(data.type=="changeView"){vm.state=data.action;vm.tabIndex=data.index;renderView();}else if(data.type=="loginSuccess"){goBackLoginSuccess(data.loginSuccessType);}else if(data.type=="changeValidState"){vm.isValid=data.valid;}else if(data.type=="registerSuccess"){window.globalRegisterSuccessDuoDuoId=data.duoduoId;window.globalRegisterSuccessPassword=data.password;renderRegisterSuccessView(data.duoduoId,data.password);}else if(data.type=="fieldItem01focus"){if(data.id=="realName"||data.id=="idCard"){prefillItem.changeState(data.id);}}});/*入口*/function init(_gameConfig,_option){$("html").addClass("managertype__page");gameConfig=_gameConfig;option=_option;$(option.root||"body").append('<table class="type_page_container"><tr><td class="type_page_container__td">\n  <div class="type_page_container__box"></div>\n    </td></tr></table>');root=$(".type_page_container__box");//可以直接初始化对应的界面，不传action时候为智能判断模式
var curAction=option.action||getActionByJudge();ps.trigger("cDispatch",{action:curAction,type:"changeView",index:env.actionToTabMap[curAction]});}function renderView(){if(vm.state=="register"){st("intoRegister");renderRegisterView();}else if(vm.state=="login"){st("intoLogin");renderLoginView();}else if(vm.state=="loginName"){st("intoLoginName");renderLoginNameView();}else if(vm.state=="quicklogin"){st("intoQuickLogin");renderQuickLoginView();}else if(vm.state=="qqlogin"){st("intoQQLogin");renderQQLoginView();}}function renderTabView(){var menuList=[{name:"游戏名登录",action:"loginName"},{name:"普通登录",action:"login"},{name:"快速注册",action:"register"}];if(option.gameName=="pja"){//百田网不需要游戏名登录
menubar.shift();}return v_tab.render({list:menuList,index:vm.tabIndex});}/*EventBinding*/function bindTab(){v_tab.bind(root,{ps:ps});}function bindQQLoginBtn(){v_qqloginbtn.bind(root,{ps:ps});}function bindInputEvent(){v_fieldItem.bind(root,{ps:ps,doValidate:doValidate});v_codeItem.bind(root,{ps:ps,doValidate:doValidate});}function bindRegisterView(){bindTab();bindQQLoginBtn();bindInputEvent();prefillItem.bind(root);v_checkbox.bind(root);var form=root.find("form");form.submit(function(e){$(".fieldItem01__input input ,.codeItem__input input").blur();e.preventDefault();if(vm.isValid){var postData={};$.each(form.serializeArray(),function(k,v){postData[v.name]=v.value;});if(postData.serviceProtocoCheck=="false"){pageAlert("请同意用户服务协议");return false;}if(postData.promiseCheck=="false"){pageAlert("请同意拒绝沉迷承诺书");return false;}da.register(postData.password,postData.autologin,postData.name,postData.id,postData.code).done(function(data){if(data.code==0){ps.trigger("cDispatch",{type:"registerSuccess",duoduoId:data.duoduoId,password:data.password});}});}});}function bindqqloginView(){bindTab();}function bindLoginView(){bindTab();bindQQLoginBtn();bindInputEvent();v_checkbox.bind(root);var form=root.find("form");form.submit(function(e){$(".fieldItem01__input input ,.codeItem__input input").blur();e.preventDefault();if(vm.isValid){var postData={};$.each(form.serializeArray(),function(k,v){postData[v.name]=v.value;});da.login(postData.duoduoid,postData.password,postData.autologin,window.__option.gameName,postData.code).done(function(data){if(data.code==0){ps.trigger("cDispatch",{type:"loginSuccess",loginSuccessType:"login"});}});}});}function bindQuickLoginView(){v_quicklogin.bind(root,{ps:ps});}function bindLoginNameView(){bindTab();bindQQLoginBtn();bindInputEvent();v_checkbox.bind(root);var form=root.find("form");form.submit(function(e){$(".fieldItem01__input input ,.codeItem__input input").blur();e.preventDefault();if(vm.isValid){var postData={};$.each(form.serializeArray(),function(k,v){postData[v.name]=v.value;});da.checkGameName(gameConfig.checkgameNameRequest,postData.gameName).done(function(data){if(data.returnCode!=0){pageAlert(data.returnDetail);}else{da.login(data.duoduoId,postData.password,postData.autologin,window.__option.gameName,postData.code).done(function(data){if(data.code==0){ps.trigger("cDispatch",{type:"loginSuccess",loginSuccessType:"loginName"});}});;}});}});}/*PanelRender*/function renderRegisterView(){da.checkRealNameNeeded().then(function(data){root.html('\n      '+renderTabView()+'\n      '+v_register.render({qqUrl:gameConfig.qqbtnUrl,ps:ps,needRealName:data.need})+'\n    ');});bindRegisterView();}function renderLoginView(){da.checkCodeNeeded().then(function(data){root.html('\n    '+renderTabView()+'\n    <div class="type_page_container__content">\n    '+v_login.render({qqUrl:gameConfig.qqbtnUrl,forgetUrl:gameConfig.forgetUrl,needCode:data.need,ps:ps})+'\n    </div>\n  ');bindLoginView();});}function renderLoginNameView(){da.checkCodeNeeded().then(function(data){root.html('\n      '+renderTabView()+'\n      <div class="type_page_container__content">\n      '+v_loginName.render({qqUrl:gameConfig.qqbtnUrl,forgetUrl:gameConfig.forgetUrl,needCode:data.need,ps:ps})+'\n      </div>\n    ');bindLoginNameView();});}function renderQQLoginView(){root.html('\n   '+renderTabView()+'\n   <div class="type_page_container__content">\n   <iframe class="oauthQQFrame" src="https://graph.qq.com/oauth/show?which=Login&display=pc&client_id=101361466&redirect_uri=http%3A%2F%2Faccount.9aoduo.com%2Fqq%2Fqqlogincallback.action%3Fop%3Dcallback%2526referer%253Dhttp%253A%252F%252Fmy.100bt.com%252Fuc%252FqqCallback.html%25253FgId%25253D999%252526refer%25253Dhttp%25253A%25252F%25252Faola.100bt.com%25252Fshuafa%25252F0list_yabilianji.html&response_type=code&state=deecf136d1d4ee581a2128ad164ba81a&scope=get_user_info"></iframe>\n   </div>\n   ');bindqqloginView();}function renderQuickLoginView(){root.html('\n    '+v_quicklogin.render()+'\n  ');bindQuickLoginView();}function renderRegisterSuccessView(duoduoId,password){//先做注册页面回来再集成注册成功
root.html('\n    '+renderTabView()+'\n    <div class="type_page_container__content">\n      '+v_registerSuccess.render(duoduoId,password)+'\n    </div>\n  ');v_registerSuccess.bind(root,{ps:ps});}module.exports={init:init};

},{"../da.es6":2,"../env.es6":3,"../util.es6":5,"../validate.es6":6,"../views/checkboxItem.es6":7,"../views/codeitem.es6":8,"../views/fieldItem01.es6":9,"../views/login.es6":11,"../views/loginName.es6":12,"../views/prefillItem.es6":13,"../views/qqlogin.es6":14,"../views/qqloginbtn.es6":15,"../views/quicklogin.es6":16,"../views/register.es6":17,"../views/registerSuccess.es6":18,"../views/tab.es6":19}],5:[function(require,module,exports){
"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};/**
 * 下面验证代码来自客服支撑
 *///封装了私有变量/提供公共接口isWeak()
//调用方法 var instance=new WeakPasswordChecker()
//              instance.isWeak("passwordStrings")
var WeakPasswordChecker=function WeakPasswordChecker(){this.isWeak=function(s){if(containLetter(s))return false;else if(passwordCheckRule_1(s)&&passwordCheckRule_2(s)&&passwordCheckRule_3(s)&&passwordCheckRule_4(s)){return false;}else return true;};var containLetter=function containLetter(passWord)//判断是不是纯数字，是返回false，不是返回true
{for(var i=0;i<passWord.length;i++){if(passWord.charAt(i)<"0"||passWord.charAt(i)>"9"){return true;}}return false;};var passwordCheckRule_1=function passwordCheckRule_1(passWord)//只包含一个数字，是返回false，不是返回true
{var a=passWord.charAt(0);for(var i=1;i<passWord.length;i++){if(passWord.charAt(i)!=a)return true;}return false;};var passwordCheckRule_2=function passwordCheckRule_2(passWord)//只包含两个数字，是返回false，不是返回true
{var a=passWord.charAt(0);var index=0;var j=0;for(var i=1;i<passWord.length;i++){if(passWord.charAt(i)!=a){index=i;break;}else j=j+1;if(j==passWord.length-1)return false;}for(var k=index+1;k<passWord.length;k++){if(passWord.charAt(k)!=passWord.charAt(0)&&passWord.charAt(k)!=passWord.charAt(index))return true;}return false;};var passwordCheckRule_3=function passwordCheckRule_3(passWord)//升序，是返回false，不是返回true
{var a=Number(passWord.charAt(0));if(a+passWord.length-1>9)return true;else{for(var i=1;i<=passWord.length-1;i++){if(Number(passWord.charAt(i))!=++a)return true;}return false;}};var passwordCheckRule_4=function passwordCheckRule_4(passWord)//降序，是返回false，不是返回true
{var a=Number(passWord.charAt(0));if(passWord.length-a-1>0)return true;else{for(var i=1;i<=passWord.length-1;i++){if(Number(passWord.charAt(i))!=--a)return true;}return false;}};};var isArray=function isArray(arg){return Object.prototype.toString.call(arg)==='[object Array]';};(function(){var RegEx=/\(?(?:(http|https|ftp):\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|localhost(?=\/)|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/;function getDomain(str){return str.match(RegEx)[3];}function getParts(str){return str.match(RegEx);}function getSearchQuery(str,key){return getQuerys(str.match(RegEx)[8],key);}function getHashQuery(str,key){return getQuerys(str.match(RegEx)[9]?str.match(RegEx)[9].substring(1):false,key);}function getQuerys(str,key){if(str){var keyReg=new RegExp("(?:^|&)"+key+"(?:[=]?)(.*?)(?=&|$)","i"),commonReg=new RegExp("(?:^|&)(.+?)(?=&|$)","gi"),objects={},j,w;if(key){j=keyReg.exec(str);return j?j[1]:null;}else{while(w=commonReg.exec(str)){var s=w[1].match(/(^[a-zA-Z0-9]+?)=(.*)/);if(s){objects[$.trim(s[1])]=s[2];}else{objects[$.trim(w[1])]="";}}return objects;}}else{return{};}}exports.qs={getDomain:getDomain,getSearchQuery:getSearchQuery,getHashQuery:getHashQuery,getQuerys:getQuerys,getParts:getParts};})();module.exports.ValidateItem=function ValidateItem(value){var fieldName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";this.data=value;this.status=true;this.fieldName=fieldName;this.detail="";};exports.ValidateItem.prototype=_extends({},exports.ValidateItem.prototype,{notEmpty:function notEmpty(){if(isArray(this.data)&&this.data.length==0){this.status=false;this.detail=this.fieldName+"\u4E0D\u80FD\u4E3A\u7A7A";}else if(!$.trim(this.data)){this.status=false;this.detail=this.fieldName+"\u4E0D\u80FD\u4E3A\u7A7A";}return this;},max:function max(_max){if(this.data.length>_max){this.status=false;this.detail=this.fieldName+"\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7"+_max;}return this;},min:function min(_min){if(this.data.length<_min){this.status=false;this.detail=this.fieldName+"\u957F\u5EA6\u4E0D\u80FD\u5C11\u4E8E"+_min;}return this;},sameAs:function sameAs(v2){if(this.data!=v2){this.status=false;this.detail=this.fieldName+"\u8F93\u5165\u6846\u4E0D\u4E00\u81F4";}return this;},isNumber:function isNumber(){if(/\D/.test(this.data)){this.status=false;this.detail=this.fieldName+"\u4E0D\u80FD\u8F93\u5165\u975E\u6570\u5B57";}return this;},strongEnough:function strongEnough(){var instance=new WeakPasswordChecker();if(instance.isWeak(this.data)){this.status=false;this.detail=this.fieldName+"\u592A\u7B80\u5355\u4E0D\u591F\u5B89\u5168\u54E6~";}return this;},isIdCard:function isIdCard(){if(!/^\d{17}[0-9xX]$/.test(this.data)){this.status=false;this.detail="\u4F60\u8F93\u5165\u7684\u8EAB\u4EFD\u4FE1\u606F\u4E0D\u5BF9\u54E6";}return this;},isUrl:function isUrl(domain){var urlReg=new RegExp("^http(s)?://"+(domain?domain.replace(/[./()\[\]]/g,'\\$&'):''),"im");if(!urlReg.test(this.data)){this.status=false;this.detail=this.fieldName+"\u8BF7\u8F93\u5165"+(domain?domain+"\u57DF\u540D\u4E0B\u7684":'')+"\u6B63\u786Eurl";}return this;}});module.exports.st=function st(stType,type){//
console.log("send Stastic:",stType,type);return $.Deferred().resolve();//   统计需求
//  普通登录页面访问用户数（初始化调用）1
//  普通登录页面成功登录用户数（登录时候调用）2
//  游戏名登录页面访问用户数（初始化时调用）3
//  游戏名登录页面成功登录用户数（登录时调用）4
//  快速注册页面访问用户数（初始化调用）5
//  快速注册页面成功注册用户数（注册时调用）6
//  快速登录页面的访问用户数（初始化调用）7
//  经过快速登录页面成功登录的用户数（登陆时候调用）8
};function cookie(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=_extends({},options);if(value===null||value===undefined){options.expires=-1;}if(typeof options.expires==='number'){var minute=options.expires,t=options.expires=new Date();t.setMinutes(t.getMinutes()+minute);}value=String(value);return document.cookie=[encodeURIComponent(key),'=',options.raw?value:encodeURIComponent(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join('');}options=value||{};var result,decode=options.raw?function(s){return s;}:decodeURIComponent;return(result=new RegExp('(?:^|; )'+encodeURIComponent(key)+'=([^;]*)').exec(document.cookie))?decode(result[1]):null;}cookie.support=function(){var g=false;cookie("mytestofcookie","mytestofcookie");if(cookie("mytestofcookie")){g=true;}cookie("mytestofcookie",null,{expires:"1990-01-01"});return g;}();module.exports.cookie=cookie;function tokenStrToObj(v){var pair=v.split("-");return{duoduoId:pair[0],token:pair[1]};}var getHistoryList=function getHistoryList(){//这里会取出公共写的历史记录cookie,提取出前三个，同时如果有当前已成功登录的状态信息则合并进去历史记录里面
//eg 历史是["duoduoId1-token1","duoduoId2","duoduoId3-token2"]
//当前有登陆状态的是duoduoId1则不做处理，如果是duoduoId2的话就吧token传入快速登录的界面让该用户可以因为有登陆态而直接登陆（尽管用户没有勾选自动登录的选项）
var history=cookie("accounthistory");var current=cookie("accountcurrent");if(!$.trim(history)){//没有历史应该也不会有当前登录态
return false;}if(current){current=tokenStrToObj(current);}var historyList=$.map(history.split(";"),function(v){//登录态肯定是在历史记录里面所以只需要遍历历史记录替换一下空token位当前态的token即可
var c=tokenStrToObj(v);if(current.duoduoId==c.duoduoId&&!c.token){return{duoduoId:c.duoduoId,token:current.token};}else{return c;}});return historyList;};module.exports.getHistoryList=getHistoryList;module.exports.getActionByJudge=function(){var action="register";//默认是注册
var history=getHistoryList();if(history){action="quicklogin";//如果有历史记录则打开快速登录
}return action;};exports.support={};exports.support.placeholder=function(){var i=document.createElement("input");return typeof i.placeholder!=='undefined';}();exports.placeholder=function(ele){if(!exports.support.placeholder){var defaultWord=ele.attr("placeholder");ele.focus(function(){$(this).val()==defaultWord&&$(this).val("");}).blur(function(){$.trim($(this).val())==""&&$(this).val(defaultWord);}).trigger("blur",{isInit:true});}};

},{}],6:[function(require,module,exports){
"use strict";var _require=require("./util.es6"),ValidateItem=_require.ValidateItem;function doValidate(data,rule,initEnvVariable){var _ref=initEnvVariable&&initEnvVariable()||{},pairData=_ref.pairData;var ruleMap={l_gameName:function l_gameName(data){return new ValidateItem(data,"游戏名").notEmpty();},l_password:function l_password(data){return new ValidateItem(data,"密码").max(16).min(6);},l_duoduoid:function l_duoduoid(data){return new ValidateItem(data,"多多号").isNumber().notEmpty();},code:function code(data){return new ValidateItem(data,"验证码").isNumber().max(4).min(4).notEmpty();},r_password:function r_password(data){return new ValidateItem(data,"密码").strongEnough().notEmpty();},r_password2:function r_password2(data,data2){return new ValidateItem(data,"密码").sameAs(pairData).notEmpty();},r_name:function r_name(data){return new ValidateItem(data,"姓名").notEmpty();},r_id:function r_id(data){return new ValidateItem(data,"身份证号").isIdCard().notEmpty();}};return ruleMap[rule](data);}module.exports={doValidate:doValidate};

},{"./util.es6":5}],7:[function(require,module,exports){
"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};module.exports={render:function render(){var option=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _defaultChecked$optio=_extends({defaultChecked:false},option),defaultChecked=_defaultChecked$optio.defaultChecked,word=_defaultChecked$optio.word,key=_defaultChecked$optio.key;return"\n          <span class=\"checkboxItem\">\n            <input type=\"hidden\" name=\""+key+"\" value=\""+(defaultChecked?"true":"false")+"\"/>\n            <span class=\"checkboxItem__w "+(defaultChecked?'checkboxItem--on':'')+"\">\n            <span class=\"checkboxItem__i\">a</span><span class=\"checkboxItem__word\">"+word+"</span>\n            </span>\n          </span>\n        ";},bind:function bind(root){root.find(".checkboxItem__w").click(function(){$(this).closest(".checkboxItem").toggleClass("checkboxItem--on");var state="false";if($(this).closest(".checkboxItem").hasClass("checkboxItem--on")){state="true";}$(this).closest(".checkboxItem").find('input[type=hidden]').val(state);});}};

},{}],8:[function(require,module,exports){
"use strict";var da=require("../da.es6");var _require=require("../util.es6"),placeholder=_require.placeholder;module.exports={render:function render(_ref){var cname=_ref.cname,name=_ref.name,tips=_ref.tips,rule=_ref.rule,type=_ref.type;return"\n          <div class=\"codeItem formlo01\">\n            <div class=\"codeItem__label formlo01__l\">"+cname+"</div>\n            <div class=\"codeItem__input formlo01__r\"><input type=\"text\" name=\""+name+"\" id=\"\" placeholder=\""+tips+"\" data-validaterule=\""+rule+"\"/><img src=\""+da.getImgSrc()+"\" alt=\"\" class=\"codeItem__img\"/><span href=\"\" class=\"codeItem__changeBtn\">\u6362\u4E00\u5F20</span></div>\n          </div>\n        ";},bind:function bind(root,_ref2){var ps=_ref2.ps,doValidate=_ref2.doValidate;$(".codeItem__changeBtn,.codeItem__img",root).on("click",function(){$(".codeItem__img",root).attr("src",da.getImgSrc());});$(".codeItem__input input",root).on("blur",function(e,data){if(data&&data.isInit){return false;}var v=$(this).val();var _$$data=$(this).data(),validaterule=_$$data.validaterule;var rst=doValidate(v,validaterule);if(!rst.status){$(this).closest(".codeItem__input").addClass("codeItem__input--error");$(this).val(rst.detail);ps.trigger("cDispatch",{type:"changeValidState",valid:false});}}).on("focus",function(){ps.trigger("cDispatch",{type:"changeValidState",valid:true});if($(this).closest(".codeItem__input").hasClass("codeItem__input--error")){$(this).val("");}$(this).closest(".codeItem__input").removeClass("codeItem__input--error");});$(".codeItem__input").each(function(){placeholder($(this).find('input'));});}};

},{"../da.es6":2,"../util.es6":5}],9:[function(require,module,exports){
"use strict";var _require=require("../util.es6"),placeholder=_require.placeholder;module.exports={render:function render(_ref){var cname=_ref.cname,name=_ref.name,tips=_ref.tips,rule=_ref.rule,type=_ref.type,_ref$id=_ref.id,id=_ref$id===undefined?"":_ref$id,_ref$target=_ref.target,target=_ref$target===undefined?"":_ref$target;return"\n          <div class=\"fieldItem01 formlo01\">\n            <div class=\"fieldItem01__label formlo01__l\">"+cname+"</div>\n            <div class=\"fieldItem01__input formlo01__r "+(type?"fieldItem01__input--"+type:'fieldItem01__input--long')+"\"><input type=\"text\" name=\""+name+"\" id=\""+id+"\" data-fieldItem_pairtarget=\""+target+"\" placeholder=\""+tips+"\" data-validaterule=\""+rule+"\"/></div>\n          </div>\n        ";},bind:function bind(root,_ref2){var ps=_ref2.ps,doValidate=_ref2.doValidate;$(".fieldItem01__input input",root).on("blur",function(e,data){var _this=this;if(data&&data.isInit){return false;}var v=$(this).val();var _$$data=$(this).data(),validaterule=_$$data.validaterule;var rst=doValidate(v,validaterule,function(){var pairItem=$($(_this).data("fielditem_pairtarget"));var data={};if(pairItem.length>0){data=pairItem.val();}return{pairData:data};});if(!rst.status){$(this).closest(".fieldItem01__input").addClass("fieldItem01__input--error");$(this).val(rst.detail);ps.trigger("cDispatch",{type:"changeValidState",valid:false});}}).on("focus",function(e,data){if(data&&data.nocheck){console.log("nocheck");return false;}ps.trigger("cDispatch",{type:"changeValidState",valid:true});ps.trigger("cDispatch",{type:"fieldItem01focus",id:$(this).attr("id")});if($(this).closest(".fieldItem01__input").hasClass("fieldItem01__input--error")){$(this).val("");}$(this).closest(".fieldItem01__input").removeClass("fieldItem01__input--error");});$(".fieldItem01__input").each(function(){placeholder($(this).find('input'));});}};

},{"../util.es6":5}],10:[function(require,module,exports){
"use strict";module.exports={render:function render(_ref){var url=_ref.url;return"<a href=\""+url+"\" target=\"_blank\">\u5FD8\u8BB0\u5BC6\u7801</a>";}};

},{}],11:[function(require,module,exports){
'use strict';var qqloginbtn=require('./qqloginbtn.es6');var fieldItem=require('./fieldItem01.es6');var forgetLink=require('./forgetlink.es6');var checkbox=require('./checkboxItem.es6');var codeItem=require('./codeitem.es6');module.exports={render:function render(_ref){var qqUrl=_ref.qqUrl,forgetUrl=_ref.forgetUrl,needCode=_ref.needCode,ps=_ref.ps;return'\n        '+qqloginbtn.render({url:qqUrl})+'\n        <form id="loginForm">\n        '+fieldItem.render({cname:"多多号:",name:"duoduoid",tips:"请输入多多号",rule:"l_duoduoid"})+'\n        '+fieldItem.render({cname:"密码:",name:"password",tips:"请输入密码",rule:"l_password"})+'\n        '+(needCode?codeItem.render({cname:"验证码:",name:"code",tips:"请输入右面的数字",rule:"code"}):'')+'\n        <div class="formlo01">\n          <div class="formlo01__l"></div><div class="formlo01__r">\n            '+checkbox.render({word:"下次自动登录",key:"autologin"})+'\n            '+forgetLink.render({url:forgetUrl})+'\n          </div>\n        </div>\n        <div class="formlo01">\n          <div class="formlo01__l"></div><div class="formlo01__r">\n            <input type="submit" value="\u767B\u9646\u6309\u94AE" class="loginBtn" />\n          </div>\n        </div>\n        </form>\n        ';}};

},{"./checkboxItem.es6":7,"./codeitem.es6":8,"./fieldItem01.es6":9,"./forgetlink.es6":10,"./qqloginbtn.es6":15}],12:[function(require,module,exports){
'use strict';var qqloginbtn=require('./qqloginbtn.es6');var fieldItem=require('./fieldItem01.es6');var forgetLink=require('./forgetlink.es6');var checkbox=require('./checkboxItem.es6');var codeItem=require('./codeitem.es6');// cname,name,tips,rule,type
module.exports={render:function render(_ref){var qqUrl=_ref.qqUrl,forgetUrl=_ref.forgetUrl,needCode=_ref.needCode,ps=_ref.ps;return'\n        '+qqloginbtn.render({url:qqUrl})+'\n        <form id="loginNameForm">\n        '+fieldItem.render({cname:"游戏名:",name:"gameName",tips:"请输入游戏名",rule:"l_gameName"})+'\n        '+fieldItem.render({cname:"密码:",name:"password",tips:"请输入密码",rule:"l_password"})+'\n        '+(needCode?codeItem.render({cname:"验证码:",name:"code",tips:"请输入右面的数字",rule:"code"}):'')+'\n        <div class="formlo01">\n          <div class="formlo01__l"></div><div class="formlo01__r">\n            '+checkbox.render({word:"下次自动登录",key:"autologin"})+'\n            '+forgetLink.render({url:forgetUrl})+'\n          </div>\n        </div>\n        <div class="formlo01">\n          <div class="formlo01__l"></div><div class="formlo01__r">\n            <input type="submit" value="\u767B\u9646\u6309\u94AE" class="loginBtn" />\n          </div>\n        </div>\n        </form>\n        ';}};

},{"./checkboxItem.es6":7,"./codeitem.es6":8,"./fieldItem01.es6":9,"./forgetlink.es6":10,"./qqloginbtn.es6":15}],13:[function(require,module,exports){
"use strict";module.exports={render:function render(_ref){var tofill=_ref.tofill,word=_ref.word,target=_ref.target;return"\n        <div class=\"formlo01\">\n          <div class=\"formlo01__l\"></div><div class=\"formlo01__r\">\n          <div data-target=\""+target+"\" data-word=\""+word+"\" class=\"prefillItem\" data-fill=\""+tofill+"\">"+word+"</div>\n          </div>\n        </div>\n        ";},bind:function bind(root){root.find(".prefillItem").click(function(){var _$$data=$(this).data(),target=_$$data.target,fill=_$$data.fill;if($(this).hasClass("prefillItem--clickable")){if($(target).length>0){$(target).val(fill);$(target).closest(".fieldItem01__input--error").removeClass("fieldItem01__input--error");}}});},changeState:function changeState(id){var target=$(".prefillItem[data-target=#"+id+"]");if(target.length>0){target.addClass("prefillItem--clickable").text("["+$(target).data("word")+"]");}}};

},{}],14:[function(require,module,exports){
"use strict";module.exports={render:function render(){return"\n        qqlogin\n        ";}};

},{}],15:[function(require,module,exports){
"use strict";module.exports={render:function render(_ref){var url=_ref.url;return"\n          <div class=\"qqloginRow\">\u65E0\u9700\u6CE8\u518C\u7B2C\u4E09\u65B9\u767B\u9646:<a href=\""+url+"\" class=\"qqloginBtn\">qq\u767B\u9646</a></div>\n        ";},bind:function bind(root,_ref2){var ps=_ref2.ps;window.qqloginCallback=function(){ps.trigger("cDispatch",{type:"loginSuccess",loginSuccessType:"qqlogin"});};root.find(".qqloginBtn").on("click",function(e){e.preventDefault();ps.trigger("cDispatch",{action:"qqlogin",type:"changeView"}// let url = $(this).attr("href");
// var w = open(
//   url,
//   "newwindow",
//   "height=600, width=800, top=200, left=300, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no"
// );
// window.__qqloginSuccess = function(data) {
//   w.close();
//   if (data.loginSuccess) {
//     ps.trigger("cDispatch", {
//       type: "loginSuccess",
//       loginSuccessType: "qq"
//     });
//   } else {
//   }
// }
);return false;});}};

},{}],16:[function(require,module,exports){
"use strict";var _require=require("../util.es6"),getHistoryList=_require.getHistoryList;var env=require('../env.es6');var da=require("../da.es6");module.exports={render:function render(){return"\n        "+$.map(getHistoryList(),function(v){return"\n            <div class=\"quickLoginItem\" data-token=\""+v.token+"\" data-duoduoid=\""+v.duoduoId+"\"><img src=\"\" alt=\"\" />"+v.duoduoId+"</div>\n          ";}).join('')+"\n        <div class=\"quickloginBtm\">\n          <span class=\"quickloginBtm__registerbtn\">\u6CE8\u518C\u65B0\u8D26\u53F7</span>|<span class=\"quickloginBtm__loginbtn\">\u5176\u4ED6\u8D26\u53F7\u767B\u9646</span>\n        </div>\n        ";},bind:function bind(root,_ref){var ps=_ref.ps;root.find(".quickLoginItem").click(function(){var _$$data=$(this).data(),token=_$$data.token,duoduoid=_$$data.duoduoid;da.loginToken(duoduoid,token,window.__option.gameName).then(function(data){if(data.code==0){ps.trigger("cDispatch",{type:"loginSuccess",loginSuccessType:"quickLogin"});}});});root.find(".quickloginBtm__registerbtn").click(function(){ps.trigger("cDispatch",{action:"register",type:"changeView",index:env.actionToTabMap["register"]});});root.find(".quickloginBtm__loginbtn").click(function(){ps.trigger("cDispatch",{action:"login",type:"changeView",index:env.actionToTabMap["login"]});});}};

},{"../da.es6":2,"../env.es6":3,"../util.es6":5}],17:[function(require,module,exports){
'use strict';var qqloginbtn=require('./qqloginbtn.es6');var fieldItem=require('./fieldItem01.es6');var forgetLink=require('./forgetlink.es6');var codeItem=require('./codeitem.es6');var checkbox=require('./checkboxItem.es6');var prefillItem=require('./prefillItem.es6');// cname,name,tips,rule,type
module.exports={render:function render(_ref){var qqUrl=_ref.qqUrl,forgetUrl=_ref.forgetUrl,ps=_ref.ps,needRealName=_ref.needRealName;return'\n        '+qqloginbtn.render({url:qqUrl})+'\n        <form id="registerForm">\n        '+fieldItem.render({cname:"密码:",name:"gameName",tips:"请输入6-16位的密码",rule:"r_password",id:"r_password"})+'\n        '+fieldItem.render({cname:"重复密码:",name:"password",tips:"请再次输入你的密码",rule:"r_password2",target:"#r_password"})+'\n        '+function(){if(needRealName){return fieldItem.render({cname:"姓名:",name:"name",tips:"如:张三",rule:"r_name",id:"realName"})+'\n\n            '+prefillItem.render({word:"如:张三",tofill:"张三",target:"#realName"})+'\n\n            '+fieldItem.render({cname:"身份证号:",name:"id",tips:"如:440206199707071051",rule:"r_id",id:"idCard"})+'\n\n            '+prefillItem.render({word:"如:440206199707071051",tofill:"440206199707071051",target:"#idCard"})+'\n\n          ';}}()+'\n        '+codeItem.render({cname:"验证码:",name:"code",tips:"请输入右面的数字",rule:"code"})+'\n\n        <div class="formlo01">\n          <div class="formlo01__l"></div><div class="formlo01__r">\n            <input type="submit" value="\u6CE8\u518C\u6309\u94AE" class="loginBtn" />\n            '+checkbox.render({word:"下次自动登录",key:"autologin"})+'\n          </div>\n        </div>\n        <div class="registerView__protocos">\n          '+checkbox.render({word:'\u6211\u540C\u610F<a href="'+window.__gameConfig.serviceProtocoUrl+'" target="_blank">\u7528\u6237\u670D\u52A1\u534F\u8BAE</a>',key:"serviceProtocoCheck"})+'\n          '+checkbox.render({word:'\u6211\u540C\u610F<a href="'+window.__gameConfig.promiseUrl+'" target="_blank">\u62D2\u7EDD\u6C89\u8FF7\u627F\u8BFA\u4E66</a>',key:"promiseCheck"})+'\n        </div>\n        </form>\n        ';}};

},{"./checkboxItem.es6":7,"./codeitem.es6":8,"./fieldItem01.es6":9,"./forgetlink.es6":10,"./prefillItem.es6":13,"./qqloginbtn.es6":15}],18:[function(require,module,exports){
'use strict';/*
 *getSaveData 保存的数据，字符串，保存后为utf-8格式
 *getFileName 文件名，记得加后缀
 *saveSuc 保存成功后的回调
 */window.getSaveData=function(){return'\u591A\u591A\u53F7\uFF1A'+window.globalRegisterSuccessDuoDuoId+'\r\n\n\u5BC6\u7801\uFF1A'+window.globalRegisterSuccessPassword+'\r\n\n'+(window.__gameConfig.registerSuccessDescription||'');};window.getFileName=function(){return'\u6211\u7684'+(window.__gameConfig.name||'')+'\u591A\u591A\u53F7-'+window.globalRegisterSuccessDuoDuoId+'.txt';};module.exports={render:function render(duoduoId,password){return'\n      <div class="registerSuccessView">\n        <div class="registerSuccess__t">\u6CE8\u518C\u6210\u529F</div>\n        <div class="registerSuccessView__r">\u4F60\u7684\u591A\u591A\u53F7:</div>\n        <div class="registerSuccessView__r">\u4F60\u7684\u5BC6\u7801:</div>\n        <div class="registerSuccessView__loginbtn">\u9A6C\u4E0A\u767B\u9646</div>\n        <div class="registerSuccessView__b">\n          <div class="registerSuccessView__desc">\u6015\u5FD8\u8BB0\u591A\u591A\u53F7\uFF1F\u4FDD\u5B58\u8D26\u53F7\u4FE1\u606F\u5230\u684C\u9762\u5427~</div>\n          <object id="saveFlash" type="application/x-shockwave-flash" data="http://account.9aoduo.com/appid/savefile.swf"><param name="wmode" value="transparent"><param name="movie" value="/appid/savefile.swf"><param name="quality" value="high"><param name="menu" value="false"><param name="allowScriptAccess" value="always"></object>\n        </div>\n      </div>\n    ';},bind:function bind(root,_ref){var ps=_ref.ps;root.find(".registerSuccessView__loginbtn").click(function(){ps.trigger("cDispatch",{type:"loginSuccess",loginSuccessType:"register"});});}};

},{}],19:[function(require,module,exports){
'use strict';module.exports={render:function render(_ref){var list=_ref.list,_ref$index=_ref.index,index=_ref$index===undefined?-1:_ref$index;return'\n          <div class="tabView">\n          '+$.map(list,function(v,k){return'\n              <div class="tabView__item '+(k==index?'tabView__item--on':'')+'" data-action="'+v.action+'">'+v.name+'</div>\n            ';}).join("")+'\n          </div>\n        ';},bind:function bind(root,_ref2){var ps=_ref2.ps;root.find(".tabView").on("click",".tabView__item",function(){var _$$data=$(this).data(),action=_$$data.action;ps.trigger("cDispatch",{type:"changeView",action:action,index:$(this).index()});});}};

},{}]},{},[1])(1)
});